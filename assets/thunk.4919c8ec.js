import{e as a,f as u,h as l,i as g,l as f,m}from"./index.0da1565c.js";const w=e=>async r=>{r(l(e))},y=e=>async r=>{const{error:s}=await a.from("orders").delete().eq("id",e);s||r(g(e))};function F(e){return async(r,s)=>{let n=await r(c());const{error:o}=await a.from("orders").insert({cart:e,userId:n}).select("cart"),{data:t}=await a.from("orders").select("cart");if(o)return;let d=t==null?void 0:t.map(i=>i.cart);r(f(e)),r(m(d))}}const I=()=>async e=>{let r=await e(c());const{data:s,error:n}=await a.from("orders").select("cart,id").eq("userId",r).select("*");if(n)return;let o=s.map(t=>(t.cart.id=t.id,t.cart));e(u(o))},c=()=>async()=>{const{data:e}=await a.auth.getUser(),{user:r}=e;return r==null?void 0:r.id};export{y as a,w as b,F as d,I as s};
