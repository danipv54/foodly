import{r as h,u as f,j as a,F as j,c as e,k as V,Q as F,b as m,a as B}from"./index.d188617a.js";import{d as I,a as L,s as P}from"./thunk.b197c0ec.js";const N=({foodState:t,imgFood:r,isPaid:d,ingredients:c,price:s,notes:l,quatity:u=1,name:i,id:g,category:b})=>{const{user_metadata:v}=JSON.parse(localStorage.getItem("user")),[o,x]=h.exports.useState(u);let k=v.name;const p=f(),C=n=>F(`Your order:${n} have been sent!`),w=n=>{o||x(1),x($=>$+n)},y=()=>{let n={user:k,id:g,foodState:"cooking",imgFood:r,isPaid:d,ingredients:c,price:s,notes:l,name:i,quatity:o,category:b};C(i),p(I(n))},O=n=>{p(L(n))},_=n=>{switch(n){case"cooking":return"bg-yellow-300";case"reserved":return"bg-blue-300";case"delivered":return"bg-green-300";default:return""}};return a(j,{children:[e("div",{children:e(V,{})}),a("div",{className:"bg-white shadow-lg rounded-lg flex p-4 space-x-4 my-8\r animate__animated animate__fadeIn",children:[e("img",{src:`${r}`,className:"w-32 rounded-lg object-cover",alt:i}),a("div",{className:"md:flex-row flex flex-col  justify-center space-y-3",children:[a("div",{className:"flex flex-col   animate__animated animate__fadeIn",children:[a("p",{className:"mb-2",children:["Status:",e("span",{className:`${_(t)} w-fit px-2 py-1 rounded-lg ml-1`,children:t==null?void 0:t.toUpperCase()})]}),a("h2",{children:["Pedido: ",i,"  ",t=="cooking"?`(${u})`:""]}),e("span",{children:l?"Notes: "+l:""}),a("p",{children:["Price: $",s]}),a("p",{children:["Ingredientes: ",c.join(", ")]}),a("div",{className:` ${t=="reserved"?"block":"hidden"} flex justify-center md:justify-start  space-x-3 mt-4`,children:[e("button",{className:"bg-red-500 rounded-full  shadow-md p-1",onClick:()=>w(-1),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})})}),e("span",{children:o}),e("button",{className:"bg-blue-500 rounded-full shadow-md p-1",onClick:()=>w(1),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})]}),a("button",{onClick:y,className:`  ${t=="reserved"?"block":"hidden"} bg-green-400 h-fit
                     px-4 self-stretch rounded-md shadow-md  hover:bg-green-600 mr-2  text-white`,children:["Buy it for $",s]}),e("button",{onClick:()=>O(g),className:` ${t=="delivered"?"hidden":""}  bg-red-400 h-fit px-4 
                    self-stretch rounded-md shadow-md  hover:bg-red-600  text-white
                    `,children:"Cancel order"})]})]})]})},Q=()=>{let{cart:t}=m(r=>r.order);if(!Boolean(t.length)){let r=localStorage.getItem("order");t=JSON.parse(r)}return e("div",{className:"w-fit",children:Boolean(t==null?void 0:t.length)?a("div",{children:[e("h1",{className:"text-4xl font-bold text-center mt-8 ",children:"Food cart"}),t.map(r=>e(N,{...r},r.id))]}):e("h1",{className:"text-4xl font-bold text-center mt-4 ",children:"No Food in  cart"})})},A=()=>{let{orders:t}=m(r=>r.order);return e("div",{className:"w-fit",children:Boolean(t.length)?a("div",{className:"  mx-auto mt-4 ",children:[e("h1",{className:"text-4xl font-bold text-center ",children:"Food Ordered"}),t==null?void 0:t.map(r=>e(N,{...r},r.id))]}):e("h1",{className:"text-4xl font-bold text-center mt-4 ",children:"No Food in  cart"})})},W=()=>{let t=B();return setTimeout(()=>{t("/",{replace:!0})},3e3),a("div",{className:"mx-auto w-full mt-32 animate__animated animate__fadeIn",children:[e("h1",{className:"font-black text-6xl text-center",children:"Aren't you hungry? "}),e("h1",{className:" mt-4 text-2xl text-center",children:"it's not a bad idea to order something you like "}),a("h3",{className:"text-center",children:["What are you waiting for?",e("span",{className:"animate-pulse animate-ping duration-1000",children:"...."})]}),e("img",{className:"mx-auto mt-16",src:"https://cdn-icons-png.flaticon.com/512/742/742880.png",alt:""})]})},M=()=>{const t=f(),[r,d]=h.exports.useState("CartView");let{cart:c,orders:s}=m(l=>l.order);return h.exports.useEffect(()=>{t(P())},[]),!c.length&&!(s!=null&&s.length)?e(W,{}):a("div",{className:" flex flex-col  mt-8",children:[a("nav",{className:" md:mx-auto w-fit ml-60",children:[e("button",{className:`px-4 py-2 shadow-md rounded-md ${r=="CartView"?"bg-blue-300":""}`,onClick:()=>d("CartView"),children:" Cart Orders"}),e("button",{className:`px-4 py-2 shadow-md rounded-md ${r=="OrderView"?"bg-blue-300":""}`,onClick:()=>d("OrderView"),children:"  Food Orders"})]}),e("div",{className:"lg:mx-auto w-fit ml-32",children:r=="CartView"?e(Q,{}):e(A,{})})]})};export{M as CartPage,M as default};
