import{r as o,u as m,j as a,F as V,c as e,k as F,Q as B,b as u,a as I}from"./index.82641aef.js";import{d as L,a as P,s as N}from"./thunk.ce1db446.js";const b=({foodState:t,imgFood:r,isPaid:n,ingredients:c,price:l,notes:d,quatity:g=1,name:i,id:p,category:v})=>{const{user_metadata:k}=JSON.parse(localStorage.getItem("user")),[h,x]=o.exports.useState(g);let C=k.name;const w=m(),y=s=>B(`Your order:${s} have been sent!`),f=s=>{h||x(1),x(j=>j+s)},O=()=>{let s={user:C,id:p,foodState:"cooking",imgFood:r,isPaid:n,ingredients:c,price:l,notes:d,name:i,quatity:h,category:v};y(i),w(L(s))},_=s=>{w(P(s))},$=s=>{switch(s){case"cooking":return"bg-yellow-300";case"reserved":return"bg-blue-300";case"delivered":return"bg-green-300";default:return""}};return a(V,{children:[e("div",{children:e(F,{})}),a("div",{className:"bg-white shadow-lg rounded-lg flex p-4 space-x-4 my-8\r animate__animated animate__fadeIn",children:[e("img",{src:`${r}`,className:"w-32 rounded-lg object-cover",alt:i}),a("div",{className:"md:flex-row flex flex-col  justify-center space-y-3",children:[a("div",{className:"flex flex-col   animate__animated animate__fadeIn",children:[a("p",{className:"mb-2",children:["Status:",e("span",{className:`${$(t)} w-fit px-2 py-1 rounded-lg ml-1`,children:t==null?void 0:t.toUpperCase()})]}),a("h2",{children:["Pedido: ",i,"  ",t=="cooking"?`(${g})`:""]}),e("span",{children:d?"Notes: "+d:""}),a("p",{children:["Price: $",l]}),a("p",{children:["Ingredientes: ",c.join(", ")]}),a("div",{className:` ${t=="reserved"?"block":"hidden"} flex justify-center md:justify-start  space-x-3 mt-4`,children:[e("button",{className:"bg-red-500 rounded-full  shadow-md p-1",onClick:()=>f(-1),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})})}),e("span",{children:h}),e("button",{className:"bg-blue-500 rounded-full shadow-md p-1",onClick:()=>f(1),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})]}),a("button",{onClick:O,className:`  ${t=="reserved"?"block":"hidden"} bg-green-400 h-fit
                     px-4 self-stretch rounded-md shadow-md  hover:bg-green-600 mr-2  text-white`,children:["Buy it for $",l]}),e("button",{onClick:()=>_(p),className:` ${t=="delivered"?"hidden":""}  bg-red-400 h-fit px-4 
                    self-stretch rounded-md shadow-md  hover:bg-red-600  text-white
                    `,children:"Cancel order"})]})]})]})},Q=()=>{let{cart:t}=u(r=>r.order);if(!Boolean(t.length)){let r=localStorage.getItem("order");t=JSON.parse(r)}return e("div",{className:"w-fit",children:Boolean(t==null?void 0:t.length)?a("div",{children:[e("h1",{className:"text-4xl font-bold text-center mt-8 ",children:"Food cart"}),t.map(r=>e(b,{...r},r.id))]}):e("h1",{className:"text-4xl font-bold text-center mt-4 ",children:"No Food in  cart"})})},A=()=>{const t=m();let{orders:r}=u(n=>n.order);return o.exports.useEffect(()=>{t(N())},[]),e("div",{className:"w-fit",children:Boolean(r.length)?a("div",{className:"  mx-auto mt-4 ",children:[e("h1",{className:"text-4xl font-bold text-center ",children:"Food Ordered"}),r==null?void 0:r.map(n=>e(b,{...n},n.id))]}):e("h1",{className:"text-4xl font-bold text-center mt-4 ",children:"No Food in  cart"})})},E=()=>{let t=I();return setTimeout(()=>{t("/",{replace:!0})},3e3),a("div",{className:"mx-auto w-full mt-32 animate__animated animate__fadeIn",children:[e("h1",{className:"font-black text-6xl text-center",children:"Aren't you hungry? "}),e("h1",{className:" mt-4 text-2xl text-center",children:"it's not a bad idea to order something you like "}),a("h3",{className:"text-center",children:["What are you waiting for?",e("span",{className:"animate-pulse animate-ping duration-1000",children:"...."})]}),e("img",{className:"mx-auto mt-16",src:"https://cdn-icons-png.flaticon.com/512/742/742880.png",alt:""})]})},M=()=>{const t=m(),[r,n]=o.exports.useState("CartView");let{cart:c,orders:l}=u(d=>d.order);return o.exports.useEffect(()=>{t(N())},[]),!c.length&&!(l!=null&&l.length)?e(E,{}):a("div",{className:" flex flex-col  mt-8",children:[a("nav",{className:" md:mx-auto w-fit ml-60",children:[e("button",{className:`px-4 py-2 shadow-md rounded-md ${r=="CartView"?"bg-blue-300":""}`,onClick:()=>n("CartView"),children:" Cart Orders"}),e("button",{className:`px-4 py-2 shadow-md rounded-md ${r=="OrderView"?"bg-blue-300":""}`,onClick:()=>n("OrderView"),children:"  Food Orders"})]}),e("div",{className:"lg:mx-auto w-fit ml-32",children:r=="CartView"?e(Q,{}):e(A,{})})]})};export{M as CartPage,M as default};
